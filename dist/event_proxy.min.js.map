{"version":3,"file":null,"sources":["../src/index.js"],"sourcesContent":["let eventMaps = {};\r\n\r\n// event listener\r\n// on('namespace:eventname[:hook]')\r\n// on('winna:addJS:before')\r\nexport const on = (name, fn) => {\r\n\tif (typeof fn !== 'function') return;\r\n\tif (!eventMaps[name]) {\r\n\t\teventMaps[name] = [];\r\n\t}\r\n\teventMaps[name].push(fn);\r\n}\r\n\r\n// remove event listener\r\nexport const off = (name, fn) => {\r\n\tif (typeof fn !== 'function') {\r\n\t\tdelete eventMaps[name];\r\n\t} else {\r\n\t\tvar fns = eventMaps[name];\r\n\t\tfns.forEach(function(item) {\r\n\t\t\tif (fn === item) {\r\n\t\t\t\tfns.splice(i, 1);\r\n\t\t\t\tif (fns.length === 0) {\r\n\t\t\t\t\tdelete eventMaps[name];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\n// trigger event listen\r\nexport const emit = (name, args) => {\r\n\tvar fns = eventMaps[name] || [];\r\n\tvar fn;\r\n\tfor (var i = 0; i < fns.length; i++) {\r\n\t\tfn = fns[i];\r\n\t\tif (typeof fn === 'function') {\r\n\t\t\tfn(args);\r\n\t\t}\r\n\t}\r\n}"],"names":["eventMaps","on","name","fn","push","off","fns","forEach","item","splice","i","length","emit","args"],"mappings":"4MAAA,IAAIA,MAKSC,EAAK,SAACC,EAAMC,GACN,kBAAPA,KACNH,EAAUE,OACJA,SAEDA,GAAME,KAAKD,KAITE,EAAM,SAACH,EAAMC,MACP,kBAAPA,SACHH,GAAUE,OACX,IACFI,GAAMN,EAAUE,KAChBK,QAAQ,SAASC,GAChBL,IAAOK,MACNC,OAAOC,EAAG,GACK,IAAfJ,EAAIK,cACAX,GAAUE,QAQTU,EAAO,SAACV,EAAMW,OAGrB,GADDV,GADAG,EAAMN,EAAUE,OAEXQ,EAAI,EAAGA,EAAIJ,EAAIK,OAAQD,MAC1BJ,EAAII,GACS,kBAAPP,MACPU"}